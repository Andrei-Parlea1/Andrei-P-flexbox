(self.webpackChunkstorefront=self.webpackChunkstorefront||[]).push([[263],{10350:function(t,s,e){"use strict";e.d(s,{s:function(){return h}});var n=e(67597),r=e(21170),i=e(96893),o=e(12343),a=e(62844),_=e(71235),c=e(9015);class h{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}static clone(t){const s=new h;return t&&(s._breadcrumbs=[...t._breadcrumbs],s._tags={...t._tags},s._extra={...t._extra},s._contexts={...t._contexts},s._user=t._user,s._level=t._level,s._span=t._span,s._session=t._session,s._transactionName=t._transactionName,s._fingerprint=t._fingerprint,s._eventProcessors=[...t._eventProcessors],s._requestSession=t._requestSession,s._attachments=[...t._attachments]),s}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{},this._session&&(0,c.CT)(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,s){return this._tags={...this._tags,[t]:s},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,s){return this._extra={...this._extra,[t]:s},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,s){return null===s?delete this._contexts[t]:this._contexts[t]=s,this._notifyScopeListeners(),this}setSpan(t){return this._span=t,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const t=this.getSpan();return t&&t.transaction}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;if("function"==typeof t){const s=t(this);return s instanceof h?s:this}return t instanceof h?(this._tags={...this._tags,...t._tags},this._extra={...this._extra,...t._extra},this._contexts={...this._contexts,...t._contexts},t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint),t._requestSession&&(this._requestSession=t._requestSession)):(0,n.PO)(t)&&(this._tags={...this._tags,...t.tags},this._extra={...this._extra,...t.extra},this._contexts={...this._contexts,...t.contexts},t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(t,s){const e="number"==typeof s?s:100;if(e<=0)return this;const n={timestamp:(0,r.yW)(),...t};return this._breadcrumbs=[...this._breadcrumbs,n].slice(-e),this._notifyScopeListeners(),this}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(t,s={}){if(this._extra&&Object.keys(this._extra).length&&(t.extra={...this._extra,...t.extra}),this._tags&&Object.keys(this._tags).length&&(t.tags={...this._tags,...t.tags}),this._user&&Object.keys(this._user).length&&(t.user={...this._user,...t.user}),this._contexts&&Object.keys(this._contexts).length&&(t.contexts={...this._contexts,...t.contexts}),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span){t.contexts={trace:this._span.getTraceContext(),...t.contexts};const s=this._span.transaction&&this._span.transaction.name;s&&(t.tags={transaction:s,...t.tags})}return this._applyFingerprint(t),t.breadcrumbs=[...t.breadcrumbs||[],...this._breadcrumbs],t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...this._sdkProcessingMetadata},this._notifyEventProcessors([...u(),...this._eventProcessors],t,s)}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}_notifyEventProcessors(t,s,e,r=0){return new i.cW(((i,a)=>{const _=t[r];if(null===s||"function"!=typeof _)i(s);else{const c=_({...s},e);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_.id&&null===c&&o.kg.log(`Event processor "${_.id}" dropped event`),(0,n.J8)(c)?c.then((s=>this._notifyEventProcessors(t,s,e,r+1).then(i))).then(null,a):this._notifyEventProcessors(t,c,e,r+1).then(i).then(null,a)}}))}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((t=>{t(this)})),this._notifyingListeners=!1)}_applyFingerprint(t){t.fingerprint=t.fingerprint?(0,a.lE)(t.fingerprint):[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}}function u(){return(0,_.YO)("globalEventProcessors",(()=>[]))}},67597:function(t,s,e){"use strict";e.d(s,{J8:function(){return o},PO:function(){return i}});const n=Object.prototype.toString;function r(t,s){return n.call(t)===`[object ${s}]`}function i(t){return r(t,"Object")}function o(t){return Boolean(t&&t.then&&"function"==typeof t.then)}},12343:function(t,s,e){"use strict";e.d(s,{Cf:function(){return i},kg:function(){return a}});var n=e(71235);const r=["debug","info","warn","error","log","assert","trace"];function i(t){if(!("console"in n.n2))return t();const s=n.n2.console,e={};r.forEach((t=>{const n=s[t]&&s[t].__sentry_original__;t in s&&n&&(e[t]=s[t],s[t]=n)}));try{return t()}finally{Object.keys(e).forEach((t=>{s[t]=e[t]}))}}function o(){let t=!1;const s={enable:()=>{t=!0},disable:()=>{t=!1}};return"undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?r.forEach((e=>{s[e]=(...s)=>{t&&i((()=>{n.n2.console[e](`Sentry Logger [${e}]:`,...s)}))}})):r.forEach((t=>{s[t]=()=>{}})),s}let a;a="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?(0,n.YO)("logger",o):o()},62844:function(t,s,e){"use strict";e.d(s,{DM:function(){return r},lE:function(){return i}});var n=e(71235);function r(){const t=n.n2,s=t.crypto||t.msCrypto;if(s&&s.randomUUID)return s.randomUUID().replace(/-/g,"");const e=s&&s.getRandomValues?()=>s.getRandomValues(new Uint8Array(1))[0]:()=>16*Math.random();return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(t=>(t^(15&e())>>t/4).toString(16)))}function i(t){return Array.isArray(t)?t:[t]}},20535:function(t,s,e){"use strict";e.d(s,{Jr:function(){return r}});var n=e(67597);function r(t){return i(t,new Map)}function i(t,s){if((0,n.PO)(t)){const e=s.get(t);if(void 0!==e)return e;const n={};s.set(t,n);for(const e of Object.keys(t))void 0!==t[e]&&(n[e]=i(t[e],s));return n}if(Array.isArray(t)){const e=s.get(t);if(void 0!==e)return e;const n=[];return s.set(t,n),t.forEach((t=>{n.push(i(t,s))})),n}return t}},9669:function(t,s,e){t.exports=e(51609)}}]);
//# sourceMappingURL=263-7e1f934919563cee8569.js.map